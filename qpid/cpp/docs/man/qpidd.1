.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.41.2.
.TH QPIDD "1" "August 2013" "qpidd (qpidc) version 0.23" "User Commands"
.SH NAME

qpidd \- the Qpid AMQP Message Broker Daemon
.SH SYNOPSIS

qpidd [-p port] [--config config_file] [--data-dir directory]
.SH DESCRIPTION

An AMQP message broker daemon that stores, routes and forwards
messages using the Advanced Message Queueing Protocol (AMQP).
.SH OPTIONS

The options below are built-in to qpidd. Installing add-on modules provides additional options. To see the full set of options available type "qpidd --help"

Options may be specified via command line, environment variable or configuration file. See FILES and ENVIRONMENT below for details.
.PP

.TP
\fB\-h\fR [ \fB\-\-help\fR ]
Displays the help message
.TP
\fB\-v\fR [ \fB\-\-version\fR ]
Displays version information
.TP
\fB\-\-config\fR FILE (\fI/usr/local/etc/qpidd.conf\fP)
Reads configuration from FILE
.TP
\fB\-\-client\-config\fR FILE (\fI/usr/local/etc/qpid/qpidc.conf\fP)
Reads client configuration from FILE
(for cluster interconnect)
.SS "Module options:"
.TP
\fB\-\-module\-dir\fR DIR (\fI/usr/local/lib/qpid/daemon\fP)
Load all shareable modules in this
directory
.TP
\fB\-\-load\-module\fR FILE
Specifies additional module(s) to be
loaded
.TP
\fB\-\-no\-module\-dir\fR
Don't load modules from module
directory
.SS "Broker Options:"
.TP
\fB\-\-data\-dir\fR DIR (/home/kpvdr/.qpidd)
Directory to contain persistent data
generated by the broker
.TP
\fB\-\-no\-data\-dir\fR
Don't use a data directory.  No
persistent configuration will be loaded
or stored
.TP
\fB\-p\fR [ \fB\-\-port\fR ] PORT (5672)
Tells the broker to listen on PORT
.TP
\fB\-\-interface\fR <interface name>|<interface address>
Which network interfaces to use to
listen for incoming connections
.TP
\fB\-\-listen\-disable\fR <transport name>
Transports to disable listening
.TP
\fB\-\-worker\-threads\fR N (5)
Sets the broker thread pool size
.TP
\fB\-\-connection\-backlog\fR N (10)
Sets the connection backlog limit for
the server socket
.TP
\fB\-m\fR [ \fB\-\-mgmt\-enable\fR ] yes|no (1)
Enable Management
.TP
\fB\-\-mgmt\-publish\fR yes|no (1)
Enable Publish of Management Data ('no'
implies query\-only)
.TP
\fB\-\-mgmt\-qmf2\fR yes|no (1)
Enable broadcast of management
information over QMF v2
.TP
\fB\-\-mgmt\-qmf1\fR yes|no (1)
Enable broadcast of management
information over QMF v1
.TP
\fB\-\-mgmt\-pub\-interval\fR SECONDS (10s)
Management Publish Interval
.TP
\fB\-\-queue\-purge\-interval\fR SECONDS (600s)
Interval between attempts to purge any
expired messages from queues
.TP
\fB\-\-auth\fR yes|no (0)
Enable authentication, if disabled all
incoming connections will be trusted
.TP
\fB\-\-realm\fR REALM (QPID)
Use the given realm when performing
authentication
.TP
\fB\-\-default\-queue\-limit\fR BYTES (104857600)
Default maximum size for queues (in
bytes)
.TP
\fB\-\-tcp\-nodelay\fR
Set TCP_NODELAY on TCP connections
.TP
\fB\-\-require\-encryption\fR
Only accept connections that are
encrypted
.TP
\fB\-\-known\-hosts\-url\fR URL or 'none' (none)
URL to send as 'known\-hosts' to clients
('none' implies empty list)
.TP
\fB\-\-sasl\-config\fR DIR
Allows SASL config path, if supported
by platform, to be overridden.  For
default location on Linux, see Cyrus
SASL documentation.  There is no SASL
config dir on Windows.
.TP
\fB\-\-default\-flow\-stop\-threshold\fR PERCENT (80)
Percent of queue's maximum capacity at
which flow control is activated.
.TP
\fB\-\-default\-flow\-resume\-threshold\fR PERCENT (70)
Percent of queue's maximum capacity at
which flow control is de\-activated.
.TP
\fB\-\-default\-event\-threshold\-ratio\fR %age of limit (80)
The ratio of any specified queue limit
at which an event will be raised
.TP
\fB\-\-default\-message\-group\fR GROUP\-IDENTIFER (qpid.no\-group)
Group identifier to assign to messages
delivered to a message group queue that
do not contain an identifier.
.TP
\fB\-\-enable\-timestamp\fR yes|no (0)
Add current time to each received
message.
.TP
\fB\-\-link\-maintenance\-interval\fR SECONDS (2s)
Interval to check link health and
re\-connect  if need be
.TP
\fB\-\-link\-heartbeat\-interval\fR SECONDS (120s)
Heartbeat interval for a federation
link
.TP
\fB\-\-max\-negotiate\-time\fR MILLISECONDS (10000)
Maximum time a connection can take to
send the initial protocol negotiation
.TP
\fB\-\-federation\-tag\fR NAME
Override the federation tag
.SS "Logging options:"
.TP
\fB\-t\fR [ \fB\-\-trace\fR ]
Enables all logging
.TP
\fB\-\-log\-enable\fR RULE (notice+)
Enables logging for selected levels and
components. RULE is in the form
\&'LEVEL[+\-][:PATTERN]'
LEVEL is one of:
.IP
trace debug info notice warning error
.IP
critical
PATTERN is a logging category name, or
a namespace\-qualified function name or
name fragment. Logging category names
are:
.IP
Security Broker Management Protocol
.IP
System HA Messaging Store Network Test
Client Model Unspecified
For example:
\&'\-\-log\-enable warning+'
logs all warning, error and critical
messages.
\&'\-\-log\-enable trace+:Broker'
logs all category 'Broker' messages.
\&'\-\-log\-enable debug:framing'
logs debug messages from all functions
with 'framing' in the namespace or
function name.
This option can be used multiple times
.TP
\fB\-\-log\-disable\fR RULE
Disables logging for selected levels
and components. RULE is in the form
\&'LEVEL[+\-][:PATTERN]'
LEVEL is one of:
.IP
trace debug info notice warning error
.IP
critical
PATTERN is a logging category name, or
a namespace\-qualified function name or
name fragment. Logging category names
are:
.IP
Security Broker Management Protocol
.IP
System HA Messaging Store Network Test
Client Model Unspecified
For example:
\&'\-\-log\-disable warning\-'
disables logging all warning, notice,
info, debug, and trace messages.
\&'\-\-log\-disable trace:Broker'
disables all category 'Broker' trace
messages.
\&'\-\-log\-disable debug\-:qmf::'
disables logging debug and trace
messages from all functions with
\&'qmf::' in the namespace.
This option can be used multiple times
.TP
\fB\-\-log\-time\fR yes|no (1)
Include time in log messages
.TP
\fB\-\-log\-level\fR yes|no (1)
Include severity level in log messages
.TP
\fB\-\-log\-source\fR yes|no (0)
Include source file:line in log
messages
.TP
\fB\-\-log\-thread\fR yes|no (0)
Include thread ID in log messages
.TP
\fB\-\-log\-function\fR yes|no (0)
Include function signature in log
messages
.TP
\fB\-\-log\-hires\-timestamp\fR yes|no (0)
Use hi\-resolution timestamps in log
messages
.TP
\fB\-\-log\-category\fR yes|no (1)
Include category in log messages
.TP
\fB\-\-log\-prefix\fR STRING
Prefix to prepend to all log messages
.SS "Logging sink options:"
.TP
\fB\-\-log\-to\-stderr\fR yes|no (1)
Send logging output to stderr
.TP
\fB\-\-log\-to\-stdout\fR yes|no (0)
Send logging output to stdout
.TP
\fB\-\-log\-to\-file\fR FILE
Send log output to FILE.
.TP
\fB\-\-log\-to\-syslog\fR yes|no (0)
Send logging output to syslog;
customize using \fB\-\-syslog\-name\fR and
\fB\-\-syslog\-facility\fR
.TP
\fB\-\-syslog\-name\fR NAME (lt\-qpidd)
Name to use in syslog messages
.TP
\fB\-\-syslog\-facility\fR LOG_XXX (LOG_DAEMON)
Facility to use in syslog messages
.SS "Daemon options:"
.TP
\fB\-d\fR [ \fB\-\-daemon\fR ]
Run as a daemon. Logs to syslog by
default in this mode.
.TP
\fB\-\-transport\fR TRANSPORT (tcp)
The transport for which to return the
port
.TP
\fB\-\-pid\-dir\fR DIR (/home/kpvdr/.qpidd)
Directory where port\-specific PID file is
stored
.TP
\fB\-w\fR [ \fB\-\-wait\fR ] SECONDS (600)
Sets the maximum wait time to initialize
or shutdown the daemon. If the daemon
fails to initialize/shutdown, prints an
error and returns 1
.TP
\fB\-c\fR [ \fB\-\-check\fR ]
Prints the daemon's process ID to stdout
and returns 0 if the daemon is running,
otherwise returns 1
.TP
\fB\-q\fR [ \fB\-\-quit\fR ]
Tells the daemon to shut down
.TP
\fB\-\-socket\-fd\fR FD
File descriptor for tcp listening socket
.SS "ACL Options:"
.TP
\fB\-\-acl\-file\fR FILE
The policy file to load from, loaded from
data dir
.TP
\fB\-\-connection\-limit\-per\-user\fR N (0)
The maximum number of connections allowed
per user. 0 implies no limit.
.TP
\fB\-\-max\-connections\fR N (500)
The maximum combined number of connections
allowed. 0 implies no limit.
.TP
\fB\-\-connection\-limit\-per\-ip\fR N (0)
The maximum number of connections allowed
per host IP address. 0 implies no limit.
.TP
\fB\-\-max\-queues\-per\-user\fR N (0)
The maximum number of queues allowed per
user. 0 implies no limit.
.SH ENVIRONMENT
.I QPID_<option>
.RS
There is an environment variable for each option.
.RE

The environment variable is the option name in uppercase, prefixed with QPID_ and '.' or '-' are replaced with '_'. Environment settings are over-ridden by command line settings. For example:

  export QPID_PORT=6000
  export QPID_MAX_CONNECTIONS=10
  export QPID_LOG_TO_FILE=/tmp/qpidd.log
.SH FILES
.I /etc/qpidd.conf
.RS
Default configuration file.
.RE

Configuration file settings are over-ridden by command line or environment variable settings. '--config <file>' or 'export QPID_CONFIG=<file>' specifies an alternate file.

Each line is a name=value pair. Blank lines and lines beginning with # are ignored. For example:

  # My qpidd configuration file.
  port=6000
  max-connections=10
  log-to-file=/tmp/qpidd.log
.SH AUTHOR

The Apache Qpid Project, dev@qpid.apache.org
.SH "REPORTING BUGS"

Please report bugs to users@qpid.apache.org
