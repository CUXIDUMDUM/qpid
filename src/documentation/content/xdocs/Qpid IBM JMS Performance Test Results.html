<html>
    <head>
        <title>Apache Qpid : Qpid IBM JMS Performance Test Results</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Apache Qpid : Qpid IBM JMS Performance Test Results
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 13, 2006 by <font color="#0050B2">mmccorma</font>.
				    </div>

				    <h1><a name="QpidIBMJMSPerformanceTestResults-QpidIBMJMSPerformanceTestResults"></a>Qpid IBM JMS Performance Test Results</h1>

<p>This page is a summary of the results shown from the <a href="http://www.alphaworks.ibm.com/tech/perfharness" title="Visit page outside Confluence">IBM JMS performance harness</a>.</p>

<p>This page is limited to qpid-commiters.</p>

<p>There are few things that you should bare in mind when looking at these values.</p>

<ol>
	<li>The messages are 100bytes.</li>
	<li>The Java Broker was used for the tests.</li>
	<li>The Broker is run on an 8-way opteron (32G Total RAM) during the tests there were other process in action.
<div class="preformatted"><div class="preformattedContent">
<pre>qpid-server -c &lt;config file to specify type of store&gt;</pre>
</div></div></li>
	<li>The Client is run on a 4 way opteron (16G Total RAM)
<div class="preformatted"><div class="preformattedContent">
<pre>qpid-run JMSPerfHarness -pc JNDI -ii com.sun.jndi.fscontext.RefFSContextFactory -iu file:///tmp/IBMPerfTestsJNDI/ -cf amq.ConnectionFactory.5670  -d amq.Queue  -tc jms.r11.PutGet -nt 6 -rl 60</pre>
</div></div></li>
	<li>The two boxes are linked via private Gigabit ethernet.</li>
</ol>



<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'>Revision</th>
<th class='confluenceTh'>Test</th>
<th class='confluenceTh'>Options</th>
<th class='confluenceTh'>Average Throughput(msgs/sec)</th>
</tr>
<tr>
<td class='confluenceTd'>v452339</td>
<td class='confluenceTd'>IBM-PutGet.sh</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>5289.80</td>
</tr>
<tr>
<td class='confluenceTd'>v452533</td>
<td class='confluenceTd'>IBM-PutGet.sh</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>5414.87</td>
</tr>
<tr>
<td class='confluenceTd'>v462764</td>
<td class='confluenceTd'>IBM-PutGet.sh</td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'>14911.41</td>
</tr>
<tr>
<td class='confluenceTd'>v452339</td>
<td class='confluenceTd'>IBM-PutGet.sh</td>
<td class='confluenceTd'>-tx</td>
<td class='confluenceTd'>2708.56</td>
</tr>
<tr>
<td class='confluenceTd'>v452533</td>
<td class='confluenceTd'>IBM-PutGet.sh</td>
<td class='confluenceTd'>-tx</td>
<td class='confluenceTd'>3016.97</td>
</tr>
<tr>
<td class='confluenceTd'>v462764</td>
<td class='confluenceTd'>IBM-PutGet.sh</td>
<td class='confluenceTd'>-tx</td>
<td class='confluenceTd'>3084.16</td>
</tr>
</tbody></table>

<p><b>Otions</b>: -tx = Transactional</p>

<p><b>Note</b>: There are no values for persistent messages as the MemoryMessageStore is not persistent.</p>


<h2><a name="QpidIBMJMSPerformanceTestResults-Whatdothetestsdo."></a>What do the tests do.</h2>

<p>It is worth explaining what each of the tests do so the reader can put the results in context.</p>

<p>The results shown above are the</p>

<h3><a name="QpidIBMJMSPerformanceTestResults-IBMPutGet.sh"></a>IBM-PutGet.sh</h3>

<p>The following pseudo code describes the main work of this test. There are additional timing threads and statistic threads that calculate the message throughout.</p>

<div class="code"><div class="codeHeader"><b>PutGet pseudo code</b></div><div class="codeContent">
<pre class="code-java">send Message
<span class="code-keyword">if</span>(using_transactions)
    commit()
receive Message
<span class="code-keyword">if</span>(using_transactions)
    commit()</pre>
</div></div>



				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Apr 22, 2008 02:47</font></td>
		    </tr>
	    </table>
    </body>
</html>