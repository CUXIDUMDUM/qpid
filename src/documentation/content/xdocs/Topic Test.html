<html>
    <head>
        <title>Apache Qpid : Topic Test</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Apache Qpid : Topic Test
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Oct 30, 2006 by <font color="#0050B2">ritchiem</font>.
				    </div>

				    <h2><a name="TopicTest-TopicTest"></a>Topic Test</h2>

<p>This test is tests the time taken for a publisher to send out <em>m</em> messages, to <em>l</em> (ell) listeners and gather their responses. The average time to receive the report from the listeners is displayed at the end of the run. Additional runs or batches can be performed with the average value being displayed at the end of the run.</p>

<h4><a name="TopicTest-Configuration"></a>Configuration</h4>

<p>The standard configuration for this test is to use the following:</p>

<ul>
	<li>10 Clients</li>
	<li>20 Batches</li>
	<li>10,000 Messages</li>
</ul>


<p>The broker is setup and run on a seperate box(<a href="Test Server 1.html" title="Test Server 1">b1</a>) connected via Gigabit ethernet. The 10 listeners and the publisher were all run on the same box (<a href="Test Server 2.html" title="Test Server 2">c2</a>)</p>

<h4><a name="TopicTest-Commandlines"></a>Command lines</h4>

<p><b>Broker</b></p>
<div class="preformatted"><div class="preformattedContent">
<pre>./qpid-server -c `pwd`/../etc/config-5670-MMS.xml  -l ../etc/log4j.off.xml
</pre>
</div></div>

<p><b>Listeners</b></p>
<div class="preformatted"><div class="preformattedContent">
<pre>./topicListener -host &lt;host&gt;
</pre>
</div></div>
<p>equivalent to</p>
<div class="preformatted"><div class="preformattedContent">
<pre> ./run_many.sh 10 lists 'java -server -Dlog4j.configuration=file://`pwd`/../etc/log4j.off.xml -Xmx256m org.apache.qpid.topic.Listener -host &lt;host&gt; -messages 10000'
</pre>
</div></div>


<p><b>Publisher</b></p>
<div class="preformatted"><div class="preformattedContent">
<pre>./topicPublisher -host &lt;host&gt; -messages 10000 -batch 20 -clients 10
</pre>
</div></div>
<p>equivalent to</p>
<div class="preformatted"><div class="preformattedContent">
<pre>java -server -Dlog4j.configuration=file://`pwd`/../etc/log4j.off.xml -Xmx256m org.apache.qpid.topic.Publisher -host &lt;host&gt; -messages 10000 -batch 20 -clients 10
</pre>
</div></div>

<h4><a name="TopicTest-TopicTestResults"></a>Topic Test Results</h4>
<p>For Server list see main <a href="Qpid Testing.html" title="Qpid Testing">Qpid Testing</a> page.</p>

<p><ins>r466127</ins></p>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'>Servers</th>
<th class='confluenceTh'>Run</th>
<th class='confluenceTh'>Timings</th>
</tr>
<tr>
<td class='confluenceTd'>b1,c2</td>
<td class='confluenceTd'><b>r1</b></td>
<td class='confluenceTd'>min: 1527, max: 8397 avg: 1491</td>
</tr>
<tr>
<td class='confluenceTd'>b1,c2</td>
<td class='confluenceTd'><b>r2</b></td>
<td class='confluenceTd'>min: 1462, max: 7876 avg: 1472</td>
</tr>
<tr>
<td class='confluenceTd'>b1,c2</td>
<td class='confluenceTd'><b>r3</b></td>
<td class='confluenceTd'>min: 1491, max: 8234 avg: 1494</td>
</tr>
</tbody></table>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Apr 22, 2008 02:47</font></td>
		    </tr>
	    </table>
    </body>
</html>